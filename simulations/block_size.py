import numpy as np
import random

def get_block_lengths(state_transition_probability):

    total_trials = 1000000
    curr_block_length = 0
    block_lengths = []
    for i in range(total_trials):

        curr_block_length = curr_block_length + 1

        if random.random() < state_transition_probability:
            block_lengths.append(curr_block_length)
            curr_block_length = 0
    
    return block_lengths

state_transition_probability = 0.02
average_block_length = np.mean(get_block_lengths(state_transition_probability))
print(average_block_length)